# 更新日志

## 历史更新记录

## 2024-2-9  

- 2.6.3  
  1. 验证新LSE引擎运行情况。  
  2. 调整命令注册时间至服务器启动后。

> [!tip]  
> 已知问题：  
> 1. “以玩家身份说话”功能异常（LSE引擎问题）  
> 2. “发送表单”功能返回值提示异常（待确认）

## 2023-10-4

- 2.6.2  
  修正 PlayerInfo pl2.lastDeathPos

## 2023-09-7  

- 2.6.1  
  1. fix `命令绑定` 权限枚举错误

## 2023-06-19

-2.6.0

  1. 移除网络版本检查
  2. 修复一系列`not defined`报错
  3. `药水GUI`更换LL接口
  4. `药水GUI-移除药水效果`支持移除指定药水效果

## 2023-04-17  

- 2.5.3
    1. 配置文件 支持关闭OPTools Motd功能

***

## 2023-03-24

- 2.5.2
  1. 修复`Array.of`方法参数错误导致的4个Bug

***

## 2023-03-21

- 2.5.1
  1. 增强`设置MOTD`功能
  2. 移除设置GUI热重载插件按钮

***

## 2023-3-19

- 2.5.0
  1. 新增`命令绑定`功能

***

## 2023-3-15

- 2.4.3
  1. 去除表单中所有确认按钮
  2. `修改MOTD`将会保存到文件
  3. 优化代码

***

## 2023-03-04

- 2.4.2
  1. 修复`更改游戏模式`提示报错  
  2. 优化API接口
  3. 优化代码
  4. 配置文件新增`过滤模拟玩家`开关

***

## 2023-2-25

- 2.4.1
  修复命令无法使用

***

## 2023-2-23

- 2.4.0
  1. **添加/删除**插件管理支持在线获取XUID
  2. 新增**药水GUI**

***

### 2023-02-15  

- 2.3.0
  1. `设置GUI`新增`权限组`
  2. `主页GUI`新增`form`类
  3. 修复`查看玩家信息、发送表达`无法打开的问题  
  4. 导出`权限组`接口(详见[开发者接口](./Plugin_API))
  5. 新增`子用户`功能  
  6. `Config.json`新增`Log`配置项
  7. 新增`命令黑名单`功能

***

### 2023/1/31  

- 2.2.0  
  1. 去除假命令，注册真命令  
    > [!tip]
    > 游戏内会显示`add,remove,reload`命令
    > 已做拦截, 不会出现非法获取插件权限
  2. `更改游戏模式`新增“`default`默认选项  
  3. `Ban GUI`新增广播被封禁的玩家
  4. 新增`发送表单`功能
  5. 新增`查看玩家详细信息`功能  
  6. 移除部分文件存在性检查  

***

### 2023/1/24

- 2.1.1
  1. 重做BanGUI判断逻辑
    > [!note]
  > Player  玩家名  
  > time    时间  
  > Reason  原因
  > #&#     为引号"  用于防止带空格的玩家封禁失败
>
  > ```json
  > {
  >    "Ban_Cmd": {
  >         "Ban": "ban #&#${Player}#&# ${time} ${Reason}",
  >         "UnBan": "unban #&#${Player}#&#"
  >    }
  > }
  > ```

***

### 2023/1/24

- 2.1.1
  1. 修复自定义Ban命令无效问题
  2. 更改Ban命令结构
    > [!note]
  > Player  玩家名  
  > time    时间  
  > Reason  原因  
>
  > ```json
  > {
  >    "Ban_Cmd": {
  >         "Ban": "ban '${Player}' ${time} ${Reason}",
  >         "UnBan": "unban '${Player}'"
  >    }
  > }
  > ```

***

### 2023/1/24

- 2.1.0

> [!tip]
> 2023/1/20
> 此版本已完成开发

  1. 多语言使用i18n接口
  2. 新增“文件/版本 检查”
  3. 新增“网络版本检查”

    > [!tip]
    > 可在配置文件开启
    > Network : false
    > 调用地址: [https://update.25565.top/api?type=OPTools](https://update.25565.top/api?type=OPTools)

  4. 优化翻译数据
  5. 优化插件
  6. 添加“预防修改天气为晴天失败”功能
  7. 添加“发消息给玩家”成功提示
  8. “Ban GUI”添加手动输入玩家名  
  9. 配置文件新增自定义Ban命令  

  > [!note]
  > Player  玩家名  
  > time    时间  
  > Reason  原因  
>
  > ```json
  > {
  >    "Ban_Cmd": "ban '${Player}' ${time} ${Reason}",
  >    "UnBan_Cmd": "unban '${Player}'"
  > }
  > ```

***

### 2023/1/13  

- 2.0.0
  1. 重构插件  
  2. 配置文件路径更改  
  
    > [!note]  
    > 原路径./Plugins/OP Tools  
    > 更改后./Plugins/PPOUI/OPTools  

  3. 更新“Ban GUI” （依赖云黑插件  
  
    > [!tip]
    > 云黑命令格式为/ban 玩家 时间 原因
    > 如果不兼容请对调1244行的“time”和“Reason”函数
  
  4. 更新“执行后台命令”  
  5. 更新“玩家身份执行命令”  
  6. 更新“发消息给玩家”  
  7. 修复“设置人数”失败问题  
  8. 主页从Button.json文件分离  
  
    > [!note]
    > Main分离为单独文件“MainGUI.json”
  
  9. 内置所有文件  
  10. “玩家传坐标”支持维度选择  
  11. “杀死玩家”更改为LL接口（支持kill创造模式玩家
  12. “清理掉落物”支持Cleaner
  13. “更改游戏规则”添加描述和随机刻

> [!attention]
> 此版本配置文件与旧版本配置文件完全不通用！

***

### 2023/1/2  

- 1.4.4  
  1. 主界面支持自定义  
  2. 优化插件  

***

### 2022/12/24

- 1.4.3
   1. 修复使用钟自动打开GUI（其实是我忘了关debug时设置的监听）

***

### 2022/12/22  
>
> [!attention]
> 此次配置文件分离，与旧版本配置文件均不通用！

- 1.4.2  
   1. 分离配置文件(Config.json)  
   2. 新增用户文件(user.json)  
   3. Images.json更改为Button.json  
   4. 优化部分代码  
   5. 设置GUI新增(清理掉落物)命令  
   6. 导出获取隐藏方块(可自行添加方块)  

***

### 2022/12/17  

- 1.4.1  
   1. 优化部分内容

***

### 2022/11/27  
>
> [!warning]
> 由于此次改动较大，测试时可能有遗漏BUG，如遇BUG或报错，请在Minebbs讨论区反馈  

- 1.4.0  
    1. 增加“多语言”支持（默认只有中文语言包）  
    2. “踢出玩家”更改为LL接口，支持自定义踢出时的文字  
    3. 导出“游戏规则”的命令库  
    4. “更改游戏模式”和“更改他人游戏模式”合并为“更改游戏模式”  
    5. 移除Images.json库的“更改他人游戏模式”  
    6. 优化大量冗余重复代码  
    7. 增加“插件设置”GUI  
    8. 新增玩家命令“/tools set”  
    9. “Config.json”文件添加“public”库  

> [!attention]
> 由于改动较大，请勿使用旧配置文件，如需保留数据请复制就Config.json中op数据到新生成的配置文件中

```json
{
  Version: "1.1"
  op: [//复制下面的xuid到新文件即可
    "114514xxxxxxxx",
    "6666xxxxxxxxxx"
  ]
}
```

***

### 2022/11/20  

- 1.3.0
    1. 新增“玩家传玩家”功能  
    2. 将玩家传送相关功能归为一个分类  
    3. 修复“玩家传送自己”传送失败的Bug  
    4. 更改images库部分图片命名  
    > [!warning]
    > 此版本（1.3.0）与旧版本（1.2.1）的images.json文件不通用！  

***

### 2022/10/30  

- 1.2.1  
  将验证玩家名改为验证玩家XUID  

***

### 2022/10/29

- 1.2.0
  1. 新增传送至玩家 和 将玩家传送至坐标 功能  
  2. 主界面和游戏规则支持自定义图片  

***

### 2022/10/28  

- 1.1.0  
  美化界面修复部分错误

***

#### 2022/10/28  

- 1.0.0
  插件发布  
